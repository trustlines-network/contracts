language: python
python:
  - "3.6"
install:
  - pip install -r requirements.txt
  - npm install -g solium
  - curl -L -o $HOME/bin/solc https://github.com/ethereum/solidity/releases/download/v0.4.16/solc-static-linux && chmod +x $HOME/bin/solc
script:
  - flake8 tlcontrcts
  - solium --dir contracts/
  - populus compile
  - python -m pytest tests/test_currency_network_basics.py
  - docker build -t contracts .
branches:
  only:
  - master
  - develop
services:
  - docker
